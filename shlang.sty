% A collection of commonly used LaTeX macros for writing programming languages.

\ProvidesPackage{shlang}

% TODO: edit required packages
\RequirePackage{mathpartir}
\RequirePackage{stmaryrd}

% Semantics function.
%
% #1 subscript (optional)
% #2 argument
%
\newcommand{\shsem}[2][{}]{\ensuremath{\shlsem#2\shrsem_{#1}}}
\newcommand{\shlsem}{\llbracket}
\newcommand{\shrsem}{\rrbracket}

% Syntax / grammar.
%
%
%
\newenvironment{shsyn}
  {\[\begin{array}{rcl@{\quad}l}}
  {\end{array}\]\ignorespacesafterend}

% Evaluation relation.
%
% #1 left hand side
% #2 right hand side
%
\newcommand{\sheval}[2]{\ensuremath{#1\longmapsto#2}}

% Reflexive, transitive closure of evaluation relation.
%
% #1 left hand side
% #2 right hand side
%
\newcommand{\shstar}[2]{\ensuremath{#1\overset{\ast}{\longmapsto}#2}}

% Typing relation.
%
% #1 term
% #2 type
%
\newcommand{\shtype}[2]{\ensuremath{#1:#2}}

% Typing relation with context.
%
% #1 context
% #2 term
% #3 type
%
\newcommand{\shctx}[3]{\ensuremath{#1\,\vdash\,\mytype{#2}{#3}}}

% Substitution.
%
% #1 variable
% #2 term
% #3 scope
%
\newcommand{\shsub}[3]{\ensuremath{[#2/#1]\,#3}}

% Lambda abstraction.
%
% #1 bound variable(s)
% #2 type annotation
% #3 body
%
\newcommand{\shabs}[3]{\ensuremath{\lambda\,#1:#2\,.\,#3}}

% Function application.
%
% #1 left term
% #2 right term
%
\newcommand{\shapp}[2]{\ensuremath{#1\;#2}}
